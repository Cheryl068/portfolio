"use strict";!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("Barba",[],t):"object"==typeof exports?exports.Barba=t():e.Barba=t()}(this,function(){return function(e){function t(i){if(n[i])return n[i].exports;var o=n[i]={exports:{},id:i,loaded:!1};return e[i].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="http://localhost:8080/dist",t(0)}([function(e,t,n){"function"!=typeof Promise&&(window.Promise=n(1));var i={version:"1.0.0",BaseTransition:n(4),BaseView:n(6),BaseCache:n(8),Dispatcher:n(7),HistoryManager:n(9),Pjax:n(10),Prefetch:n(13),Utils:n(5)};e.exports=i},function(e,t,n){(function(t){!function(n){function i(){}function o(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],d(e,this)}function r(e,t){for(;3===e._state;)e=e._value;return 0===e._state?void e._deferreds.push(t):(e._handled=!0,void h(function(){var n=1===e._state?t.onFulfilled:t.onRejected;if(null!==n){var i;try{i=n(e._value)}catch(e){return void a(t.promise,e)}s(t.promise,i)}else(1===e._state?s:a)(t.promise,e._value)}))}function s(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if(t instanceof o)return e._state=3,e._value=t,void c(e);if("function"==typeof n)return void d(function(e,t){return function(){e.apply(t,arguments)}}(n,t),e)}e._state=1,e._value=t,c(e)}catch(t){a(e,t)}}function a(e,t){e._state=2,e._value=t,c(e)}function c(e){2===e._state&&0===e._deferreds.length&&h(function(){e._handled||f(e._value)});for(var t=0,n=e._deferreds.length;t<n;t++)r(e,e._deferreds[t]);e._deferreds=null}function l(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function d(e,t){var n=!1;try{e(function(e){n||(n=!0,s(t,e))},function(e){n||(n=!0,a(t,e))})}catch(e){if(n)return;n=!0,a(t,e)}}var u=setTimeout,h="function"==typeof t&&t||function(e){u(e,0)},f=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)};o.prototype.catch=function(e){return this.then(null,e)},o.prototype.then=function(e,t){var n=new this.constructor(i);return r(this,new l(e,t,n)),n},o.all=function(e){var t=Array.prototype.slice.call(e);return new o(function(e,n){function i(r,s){try{if(s&&("object"==typeof s||"function"==typeof s)){var a=s.then;if("function"==typeof a)return void a.call(s,function(e){i(r,e)},n)}t[r]=s,0==--o&&e(t)}catch(e){n(e)}}if(0===t.length)return e([]);for(var o=t.length,r=0;r<t.length;r++)i(r,t[r])})},o.resolve=function(e){return e&&"object"==typeof e&&e.constructor===o?e:new o(function(t){t(e)})},o.reject=function(e){return new o(function(t,n){n(e)})},o.race=function(e){return new o(function(t,n){for(var i=0,o=e.length;i<o;i++)e[i].then(t,n)})},o._setImmediateFn=function(e){h=e},o._setUnhandledRejectionFn=function(e){f=e},void 0!==e&&e.exports?e.exports=o:n.Promise||(n.Promise=o)}(this)}).call(t,n(2).setImmediate)},function(e,t,n){(function(e,i){function o(e,t){this._id=e,this._clearFn=t}var r=n(3).nextTick,s=Function.prototype.apply,a=Array.prototype.slice,c={},l=0;t.setTimeout=function(){return new o(s.call(setTimeout,window,arguments),clearTimeout)},t.setInterval=function(){return new o(s.call(setInterval,window,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(window,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},t.setImmediate="function"==typeof e?e:function(e){var n=l++,i=!(arguments.length<2)&&a.call(arguments,1);return c[n]=!0,r(function(){c[n]&&(i?e.apply(null,i):e.call(null),t.clearImmediate(n))}),n},t.clearImmediate="function"==typeof i?i:function(e){delete c[e]}}).call(t,n(2).setImmediate,n(2).clearImmediate)},function(e,t){function n(){u&&l&&(u=!1,l.length?d=l.concat(d):h=-1,d.length&&i())}function i(){if(!u){var e=s(n);u=!0;for(var t=d.length;t;){for(l=d,d=[];++h<t;)l&&l[h].run();h=-1,t=d.length}l=null,u=!1,a(e)}}function o(e,t){this.fun=e,this.array=t}function r(){}var s,a,c=e.exports={};!function(){try{s=setTimeout}catch(e){s=function(){throw new Error("setTimeout is not defined")}}try{a=clearTimeout}catch(e){a=function(){throw new Error("clearTimeout is not defined")}}}();var l,d=[],u=!1,h=-1;c.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];d.push(new o(e,t)),1!==d.length||u||s(i,0)},o.prototype.run=function(){this.fun.apply(null,this.array)},c.title="browser",c.browser=!0,c.env={},c.argv=[],c.version="",c.versions={},c.on=r,c.addListener=r,c.once=r,c.off=r,c.removeListener=r,c.removeAllListeners=r,c.emit=r,c.binding=function(e){throw new Error("process.binding is not supported")},c.cwd=function(){return"/"},c.chdir=function(e){throw new Error("process.chdir is not supported")},c.umask=function(){return 0}},function(e,t,n){var i=n(5),o={oldContainer:void 0,newContainer:void 0,newContainerLoading:void 0,extend:function(e){return i.extend(this,e)},init:function(e,t){var n=this;return this.oldContainer=e,this._newContainerPromise=t,this.deferred=i.deferred(),this.newContainerReady=i.deferred(),this.newContainerLoading=this.newContainerReady.promise,this.start(),this._newContainerPromise.then(function(e){n.newContainer=e,n.newContainerReady.resolve()}),this.deferred.promise},done:function(){this.oldContainer.parentNode.removeChild(this.oldContainer),this.newContainer.style.visibility="visible",this.deferred.resolve()},start:function(){}};e.exports=o},function(e,t){var n={getCurrentUrl:function(){return window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search},cleanLink:function(e){return e.replace(/#.*/,"")},xhrTimeout:5e3,xhr:function(e){var t=this.deferred(),n=new XMLHttpRequest;return n.onreadystatechange=function(){if(4===n.readyState)return 200===n.status?t.resolve(n.responseText):t.reject(new Error("xhr: HTTP code is not 200"))},n.ontimeout=function(){return t.reject(new Error("xhr: Timeout exceeded"))},n.open("GET",e),n.timeout=this.xhrTimeout,n.setRequestHeader("x-barba","yes"),n.send(),t.promise},extend:function(e,t){var n=Object.create(e);for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);return n},deferred:function(){return new function(){this.resolve=null,this.reject=null,this.promise=new Promise(function(e,t){this.resolve=e,this.reject=t}.bind(this))}},getPort:function(e){var t=void 0!==e?e:window.location.port,n=window.location.protocol;return""!=t?parseInt(t):"http:"===n?80:"https:"===n?443:void 0}};e.exports=n},function(e,t,n){var i=n(7),o=n(5),r={namespace:null,extend:function(e){return o.extend(this,e)},init:function(){var e=this;i.on("initStateChange",function(t,n){n&&n.namespace===e.namespace&&e.onLeave()}),i.on("newPageReady",function(t,n,i){e.container=i,t.namespace===e.namespace&&e.onEnter()}),i.on("transitionCompleted",function(t,n){t.namespace===e.namespace&&e.onEnterCompleted(),n&&n.namespace===e.namespace&&e.onLeaveCompleted()})},onEnter:function(){},onEnterCompleted:function(){},onLeave:function(){},onLeaveCompleted:function(){}};e.exports=r},function(e,t){var n={events:{},on:function(e,t){this.events[e]=this.events[e]||[],this.events[e].push(t)},off:function(e,t){e in this.events!=0&&this.events[e].splice(this.events[e].indexOf(t),1)},trigger:function(e){if(e in this.events!=0)for(var t=0;t<this.events[e].length;t++)this.events[e][t].apply(this,Array.prototype.slice.call(arguments,1))}};e.exports=n},function(e,t,n){var i=n(5),o={data:{},extend:function(e){return i.extend(this,e)},set:function(e,t){this.data[e]=t},get:function(e){return this.data[e]},reset:function(){this.data={}}};e.exports=o},function(e,t){e.exports={history:[],add:function(e,t){t||(t=void 0),this.history.push({url:e,namespace:t})},currentStatus:function(){return this.history[this.history.length-1]},prevStatus:function(){var e=this.history;return e.length<2?null:e[e.length-2]}}},function(e,t,n){var i=n(5),o=n(7),r=n(11),s=n(8),a=n(9),c={Dom:n(12),History:a,Cache:s,cacheEnabled:!0,transitionProgress:!1,ignoreClassLink:"no-barba",start:function(){this.init()},init:function(){var e=this.Dom.getContainer();this.Dom.getWrapper().setAttribute("aria-live","polite"),this.History.add(this.getCurrentUrl(),this.Dom.getNamespace(e)),o.trigger("initStateChange",this.History.currentStatus()),o.trigger("newPageReady",this.History.currentStatus(),{},e,this.Dom.currentHTML),o.trigger("transitionCompleted",this.History.currentStatus()),this.bindEvents()},bindEvents:function(){document.addEventListener("click",this.onLinkClick.bind(this)),window.addEventListener("popstate",this.onStateChange.bind(this))},getCurrentUrl:function(){return i.cleanLink(i.getCurrentUrl())},goTo:function(e){window.history.pushState(null,null,e),this.onStateChange()},forceGoTo:function(e){window.location=e},load:function(e){var t,n=i.deferred(),o=this;return(t=this.Cache.get(e))||(t=i.xhr(e),this.Cache.set(e,t)),t.then(function(e){var t=o.Dom.parseResponse(e);o.Dom.putContainer(t),o.cacheEnabled||o.Cache.reset(),n.resolve(t)},function(){o.forceGoTo(e),n.reject()}),n.promise},getHref:function(e){if(e)return e.getAttribute&&"string"==typeof e.getAttribute("xlink:href")?e.getAttribute("xlink:href"):"string"==typeof e.href?e.href:void 0},onLinkClick:function(e){for(var t=e.target;t&&!this.getHref(t);)t=t.parentNode;if(this.preventCheck(e,t)){e.stopPropagation(),e.preventDefault(),o.trigger("linkClicked",t,e);var n=this.getHref(t);this.goTo(n)}},preventCheck:function(e,t){if(!window.history.pushState)return!1;var n=this.getHref(t);return!(!t||!n||e.which>1||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey||t.target&&"_blank"===t.target||window.location.protocol!==t.protocol||window.location.hostname!==t.hostname||i.getPort()!==i.getPort(t.port)||n.indexOf("#")>-1||t.getAttribute&&"string"==typeof t.getAttribute("download")||i.cleanLink(n)==i.cleanLink(location.href)||t.classList.contains(this.ignoreClassLink))},getTransition:function(){return r},onStateChange:function(){var e=this.getCurrentUrl();if(this.transitionProgress&&this.forceGoTo(e),this.History.currentStatus().url===e)return!1;this.History.add(e);var t=this.load(e),n=Object.create(this.getTransition());this.transitionProgress=!0,o.trigger("initStateChange",this.History.currentStatus(),this.History.prevStatus());var i=n.init(this.Dom.getContainer(),t);t.then(this.onNewContainerLoaded.bind(this)),i.then(this.onTransitionEnd.bind(this))},onNewContainerLoaded:function(e){this.History.currentStatus().namespace=this.Dom.getNamespace(e),o.trigger("newPageReady",this.History.currentStatus(),this.History.prevStatus(),e,this.Dom.currentHTML)},onTransitionEnd:function(){this.transitionProgress=!1,o.trigger("transitionCompleted",this.History.currentStatus(),this.History.prevStatus())}};e.exports=c},function(e,t,n){var i=n(4).extend({start:function(){this.newContainerLoading.then(this.finish.bind(this))},finish:function(){document.body.scrollTop=0,this.done()}});e.exports=i},function(e,t){var n={dataNamespace:"namespace",wrapperId:"barba-wrapper",containerClass:"barba-container",currentHTML:document.documentElement.innerHTML,parseResponse:function(e){this.currentHTML=e;var t=document.createElement("div");t.innerHTML=e;var n=t.querySelector("title");return n&&(document.title=n.textContent),this.getContainer(t)},getWrapper:function(){var e=document.getElementById(this.wrapperId);if(!e)throw new Error("Barba.js: wrapper not found!");return e},getContainer:function(e){if(e||(e=document.body),!e)throw new Error("Barba.js: DOM not ready!");var t=this.parseContainer(e);if(t&&t.jquery&&(t=t[0]),!t)throw new Error("Barba.js: no container found");return t},getNamespace:function(e){return e&&e.dataset?e.dataset[this.dataNamespace]:e?e.getAttribute("data-"+this.dataNamespace):null},putContainer:function(e){e.style.visibility="hidden",this.getWrapper().appendChild(e)},parseContainer:function(e){return e.querySelector("."+this.containerClass)}};e.exports=n},function(e,t,n){var i=n(5),o=n(10),r={ignoreClassLink:"no-barba-prefetch",init:function(){return!!window.history.pushState&&(document.body.addEventListener("mouseover",this.onLinkEnter.bind(this)),void document.body.addEventListener("touchstart",this.onLinkEnter.bind(this)))},onLinkEnter:function(e){for(var t=e.target;t&&!o.getHref(t);)t=t.parentNode;if(t&&!t.classList.contains(this.ignoreClassLink)){var n=o.getHref(t);if(o.preventCheck(e,t)&&!o.Cache.get(n)){var r=i.xhr(n);o.Cache.set(n,r)}}}};e.exports=r}])});const s={id:function(e){return document.getElementById(e)},class:function(e){return Array.prototype.slice.call(document.getElementsByClassName(e))},tag:function(e){return document.getElementsByTagName(e)}},m={lineEq:function(e,t,n,i,o){let r=(e-t)/(n-i);return r*o+(t-r*i)},lerp:function(e,t,n){return e*(1-n)+t*n},distance:function(e,t,n,i){let o=e-t,r=n-i;return Math.hypot(o,r)},map:function(e,t,n,i,o){return i+(e-t)/(n-t)*(o-i)}},getMousePos=e=>({x:e.clientX,y:e.clientY}),getRandomNumber=()=>9723126312836172*Math.random();window.global={width:0,height:0,browser:"",device:"",currentPage:""};class App{constructor(){router.init(),this._bind(),global.width=window.innerWidth,global.height=window.innerHeight,global.browser=this._detectBrowser(),global.device=this._detectDevice(),this._setCurrentPage(),document.body.classList.add(global.browser),document.body.classList.add(global.device),new Theme,this._addEvents(),this.raf={functionsToRender:[],raf:void 0,stop:!1,frameCount:0,fps:null,fpsInterval:null,startTime:null,now:null,then:null,elapsed:null},this.startRender(60),new Loader}_bind(){["onResize","changePage"].forEach(e=>this[e]=this[e].bind(this))}_addEvents(){window.addEventListener("resize",this.onResize)}_detectBrowser(){let e,t=navigator.userAgent;return t.indexOf("Chrome")>-1?e="isChrome":t.indexOf("Safari")>-1?e="isSafari":t.indexOf("Opera")>-1?e="isOpera":t.indexOf("Firefox")>-1?e="isFirefox":t.indexOf("MSIE")>-1&&(e="isMicrosoft"),e}_detectDevice(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?"isMobile":"isDesktop"}_setCurrentPage(){global.currentPage=Barba.HistoryManager.currentStatus().namespace,document.body.dataset.page=global.currentPage}onResize(){global.width=window.innerWidth,global.height=window.innerHeight}changePage(){this._setCurrentPage(),SB.calcScrollHeight(),"project"==global.currentPage?new Project:"privacy"!==global.currentPage&&new Home}addFnToRender(e){let t={id:getRandomNumber(),fn:e};return this.raf.functionsToRender.push(t),t.id}removeFnFromRender(e){for(let t=0;t<this.raf.functionsToRender.length;t++)if(this.raf.functionsToRender[t].id===e)return void this.raf.functionsToRender.splice(t,1)}startRender(e){this.raf.fpsInterval=1e3/e,this.raf.then=Date.now(),this.raf.startTime=this.raf.then,this.render()}render(){this.raf.stop||(this.raf.raf=window.requestAnimationFrame(()=>this.render()),this.raf.now=Date.now(),this.raf.elapsed=this.raf.now-this.raf.then,this.raf.elapsed>this.raf.fpsInterval&&(this.raf.then=this.raf.now-this.raf.elapsed%this.raf.fpsInterval,this.raf.functionsToRender.forEach(e=>e.fn())))}}class Loader{constructor(){this.loader=s.id("loader"),this._hide()}_hide(){"home"!==global.currentPage?this._hideOtherPage(this.loader):this._hideHome(this.loader)}_hideHome(e){const t=s.class("section-top")[0],n=s.class("left")[0],i=s.class("right")[0].children,o=s.id("home--imageContainer");new TimelineMax({onStart:function(){window.scrollTo(0,0)},onComplete:function(){e.style.display="none"}}).to(e,.4,{opacity:0}).staggerFromTo(i,1.4,{opacity:0,y:48,skewY:3},{opacity:1,y:0,skewY:0,ease:Power2.easeOut,stagger:.2},"-=0.4").fromTo(n,1.4,{opacity:0,y:48,skewY:3},{opacity:1,y:0,skewY:0,ease:Power2.easeOut},"-=2.2").fromTo(o,1.6,{scaleX:.2,opacity:0},{scaleX:1,opacity:1,transformOrigin:"100% 50%",ease:Power4.easeInOut},"-=2.0").fromTo(t,1,{opacity:0},{opacity:1,ease:Power1.easeOut},"-=1.2")}_hideOtherPage(e){new TimelineMax({onStart:function(){window.scrollTo(0,0)},onComplete:function(){e.style.display="none"}}).to(e,.4,{opacity:0})}}class Theme{constructor(){if(this._theme,window.matchMedia("(prefers-color-scheme: dark)").matches)this._setTheme("dark");else{let e=(new Date).getHours();this._setTheme(e>21||e<6?"dark":"light")}}_setTheme(e){this._theme=e,document.body.dataset.theme=this._theme}}class Scrollbar{constructor(){this._bind(),this.pos=0,this.last=0,this.scrollbar=s.id("scrollbar"),this.scrollHeight=0,this.calcScrollHeight(),this.raf=A.addFnToRender(this.applyScroll),window.addEventListener("scroll",this.setScroll)}_bind(){["applyScroll","setScroll","transition"].forEach(e=>this[e]=this[e].bind(this))}setScroll(){this.pos=window.scrollY}calcScrollHeight(){this.scrollHeight=document.documentElement.scrollHeight-window.global.height}applyScroll(){this.last=m.lerp(this.last,this.pos,.2),this.last<.1&&(this.last=0);let e=this.pos/this.scrollHeight;this.scrollbar.style.transform=`scaleX(${e})`}transition(){console.log("transition"),this.raf=A.removeFnFromRender(this.raf);var e=this;TweenLite.to(e.scrollbar,1.3,{delay:.3,scaleX:0,ease:Expo.easeInOut,onComplete:function(){console.log("Transition complete"),e.calcScrollHeight(),e.raf=A.addFnToRender(e.applyScroll)}})}}class Home{constructor(){new ScrollToProjectsLink(s.id("home--scrollToProjectsLink")),new AboutGallery(s.id("home--imageContainer")),"isDesktop"===global.device&&new Menu}}class ScrollToProjectsLink{constructor(e){this._bind(),this.element=e,this._addEvents()}_bind(){["_scrollToProjects"].forEach(e=>this[e]=this[e].bind(this))}_scrollToProjects(){const e=s.id("home--projects").offsetTop,t=s.id("scrollToProjectsLink--arrow"),n=s.id("scrollToProjectsLink--arrow--one"),i=s.id("scrollToProjectsLink--arrow--two");new TimelineMax({onComplete:function(){TweenLite.set(t,{y:0}),TweenLite.set(n,{opacity:0}),TweenLite.set(i,{scale:1})}}).to(window,1.4,{scrollTo:e,ease:Power2.easeInOut}).to(t,.6,{y:38,ease:Power1.easeInOut},"-=1.4").to(n,.4,{opacity:1,ease:Power2.easeInOut},"-=1.4").to(i,.4,{scale:.3,ease:Power2.easeInOut},"-=1.4")}_addEvents(){this.element.addEventListener("click",this._scrollToProjects)}}class AboutGallery{constructor(e){this.container=e,this.images=this.container.children,this.addEvents()}addEvents(){const e=this;s.class("imageContainer-hover");s.class("imageContainer-hover").forEach((t,n)=>{t.addEventListener("mouseenter",function(){e._showImage(e,n)},!1),t.addEventListener("mouseleave",function(){e._hideImage(e,n)},!1)})}_showImage(e,t){const n=e.images[t];var i=new TimelineMax;i.set(n,{zIndex:1}),i.fromTo(n,.6,{opacity:0,scale:1.1},{opacity:1,scale:1,ease:Power2.easeInOut})}_hideImage(e,t){const n=e.images[t];var i=new TimelineMax;i.set(n,{zIndex:0}),i.to(n,.6,{opacity:0,ease:Power2.easeInOut})}}class Menu{constructor(){this.DOM={container:s.id("home--projects"),svg:s.id("distort"),menu:s.id("home--projects"),imgs:s.class("distort__img"),menuLinks:s.class("distort--link"),feTurbulence:document.querySelector("#distortionFilter feTurbulence")},this.mousePos={x:global.width/2,y:global.height/2},this.lastMousePos={translation:{x:global.width/2,y:global.height/2},displacement:{x:0,y:0}},this.dmScale=0,this.current=-1,this.feDisplacementMapEl=document.querySelector("feDisplacementMap"),this.initEvents();var e=this;this.renderFn=function(){e.render(e)},new IntersectionObserver(function(t){t[0].isIntersecting?e.raf=A.addFnToRender(e.renderFn):e.raf&&(e.raf=A.removeFnFromRender(e.raf))}).observe(this.DOM.container)}initEvents(){const e=()=>this.fadeOut();window.addEventListener("mousemove",e=>this.mousePos=getMousePos(e)),this.DOM.menuLinks.forEach((t,n)=>{t.addEventListener("mouseenter",()=>{this.DOM.feTurbulence.setAttribute("seed",Math.round(1e3*Math.random())),-1!==this.current&&(TweenLite.set(this.DOM.imgs[this.current],{opacity:0}),this.DOM.imgs[this.current].setAttribute("filter","")),this.current=n,this.fade?(TweenLite.to(this.DOM.imgs[this.current],.5,{ease:Quad.easeOut,opacity:1}),this.DOM.imgs[this.current].setAttribute("filter","url(#distortionFilter)"),this.fade=!1):(TweenLite.set(this.DOM.imgs[this.current],{opacity:1}),this.DOM.imgs[this.current].setAttribute("filter","url(#distortionFilter)"))}),t.addEventListener("mouseleave",e)}),this.DOM.menu.addEventListener("mouseenter",()=>this.fade=!0)}render(){var e=arguments[0];let t=m.map(e.current,0,e.DOM.imgs.length,-100,-400);e.lastMousePos.translation.x=m.lerp(e.lastMousePos.translation.x,e.mousePos.x,.1),e.lastMousePos.translation.y=m.lerp(e.lastMousePos.translation.y,e.mousePos.y+t,.1),e.DOM.svg.style.cssText=`transform: translate3d(${e.lastMousePos.translation.x}px,${e.lastMousePos.translation.y}px, 0px)`,"isSafari"!==global.browser&&"isFirefox"!==global.browser&&e.applyDislacement()}applyDislacement(){this.lastMousePos.displacement.x=m.lerp(this.lastMousePos.displacement.x,this.mousePos.x,.1),this.lastMousePos.displacement.y=m.lerp(this.lastMousePos.displacement.y,this.mousePos.y,.1);const e=m.distance(this.lastMousePos.displacement.x,this.mousePos.x,this.lastMousePos.displacement.y,this.mousePos.y);this.dmScale=Math.min(e,100),this.feDisplacementMapEl.scale.baseVal=this.dmScale}fadeOut(){TweenLite.to(this.DOM.imgs[this.current],.2,{ease:Quad.easeOut,opacity:0})}}class Project{constructor(){this._bind(),videoPlayer.init(),this.scrollToTop=s.id("footer--toTop"),this._addEvents()}_bind(){["_scrollToTop"].forEach(e=>this[e]=this[e].bind(this))}_scrollToTop(){TweenLite.to(window,1.4,{scrollTo:0,ease:Expo.easeInOut})}_addEvents(){this.scrollToTop.addEventListener("click",this._scrollToTop)}}const videoPlayer={container:"",video:"",progressContainer:"",currentTime:"",progressBar:"",state:"isPaused",duration:"",init:function(){this.container=s.class("video-controls")[0],this.container&&(this.video=this.container.getElementsByTagName("video")[0],this.duration=this.video.duration,this.currentTime=s.class("bottom--currentTime")[0],this.progressContainer=s.class("bottom")[0],this.progressBar=s.class("progressBar--bar")[0],this.addEventListeners())},addEventListeners:function(){this.video.addEventListener("click",videoPlayer.togglePlay),this.progressContainer.addEventListener("click",videoPlayer.jumpToPositionInVideo),this.video.addEventListener("timeupdate",videoPlayer.updateSeconds)},togglePlay:function(){"isPaused"==videoPlayer.state?(videoPlayer.container.classList.remove(videoPlayer.state),videoPlayer.state="isPlaying",videoPlayer.video.play(),videoPlayer.container.classList.add(videoPlayer.state)):"isPlaying"==videoPlayer.state&&(videoPlayer.container.classList.remove(videoPlayer.state),videoPlayer.state="isPaused",videoPlayer.video.pause(),videoPlayer.container.classList.add(videoPlayer.state))},updateSeconds:function(){const e=videoPlayer.video.currentTime;e==videoPlayer.duration&&(videoPlayer.restart(),videoPlayer.togglePlay());let t=Math.floor(e/60),n=Math.floor(e);t<10&&(t="0"+t),n<10&&(n="0"+n),videoPlayer.currentTime.innerHTML=t+":"+n;const i=e/videoPlayer.duration;videoPlayer.progressBar.style.transform="scaleX("+i+") translateY(-1px)"},jumpToPositionInVideo:function(e){const t=e.target.getBoundingClientRect(),n=(e.clientX-t.left)/t.width,i=videoPlayer.duration*n;videoPlayer.video.currentTime=i},restart:function(){videoPlayer.video.currentTime=0}},router={init:function(){Barba.Pjax.init(),Barba.Prefetch.init(),Barba.Dispatcher.on("transitionCompleted",function(){A.changePage()}),Barba.Dispatcher.on("linkClicked",function(){SB.transition()});var e=Barba.BaseTransition.extend({start:function(){Promise.all([this.newContainerLoading,this.fadeOut()]).then(this.fadeIn.bind(this))},fadeOut:function(){TweenLite.to(this.oldContainer,.4,{opacity:0,ease:Power1.easeOut,onComplete:function(){window.scrollTo(0,0)}})},fadeIn:function(){var e=this;TweenLite.set(this.newContainer,{visibility:"visible",opacity:0,position:"absolute",top:0,left:0}),TweenLite.to(this.newContainer,.4,{delay:.4,opacity:1,ease:Power1.easeOut,onComplete:function(){TweenLite.set(e.newContainer,{clearProps:"all"}),e.done()}})}}),t=Barba.BaseTransition.extend({start:function(){Promise.all([this.newContainerLoading,this.fadeOut()]).then(this.fadeIn.bind(this))},fadeOut:function(){TweenLite.to(this.oldContainer,.4,{opacity:0,ease:Power1.easeOut,onComplete:function(){window.scrollTo(0,0)}})},fadeIn:function(){var e=this;const t=s.id("headline--name"),n=s.id("headline--description").children,i=s.id("headline--image");new TimelineMax({onComplete:function(){TweenLite.set(e.newContainer,{clearProps:"all"}),e.done()}}).set(this.newContainer,{visibility:"visible",opacity:0,position:"absolute",top:0,left:0}).to(this.newContainer,.4,{delay:.4,opacity:1,ease:Power1.easeOut}).fromTo(t,.8,{opacity:0,y:48,skewY:3},{opacity:1,y:0,skewY:0,ease:Power2.easeOut},"+=0.2").staggerFromTo(n,.8,{opacity:0,y:48,skewY:3},{opacity:1,y:0,skewY:0,ease:Power2.easeOut,stagger:.1},"-=2.4").fromTo(i,.8,{opacity:0,y:48,skewY:3},{opacity:1,y:0,skewY:0,ease:Power2.easeOut},"-=0.6")}}),n=Barba.BaseTransition.extend({start:function(){Promise.all([this.newContainerLoading,this.fadeOut()]).then(this.fadeIn.bind(this))},fadeOut:function(){s.id("projects--footer");const e=s.id("footer--nextProject"),t=s.id("footer--projects").children[0],n=s.id("footer--toTop"),i=s.tag("footer")[0];new TimelineMax({onComplete:function(){window.scrollTo(0,0),TweenLite.set(i,{opacity:1})}}).set(i,{opacity:1,display:"block"}).to(t,.4,{opacity:0,skewY:3,y:32,ease:Power2.easeIn}).to(e,.4,{opacity:0,skewY:3,y:32,ease:Power2.easeIn},"-=0.4").to(n,.4,{opacity:0,y:-32,ease:Power2.easeIn},"-=0.4").to([i,this.oldContainer],.4,{opacity:0,ease:Power1.easeIn},"+=0.0")},fadeIn:function(){var e=this;if(this.newContainer.querySelector("#headline--description")){const t=this.newContainer.querySelector("#headline--name"),n=this.newContainer.querySelector("#headline--description").children,i=this.newContainer.querySelector("#headline--image");new TimelineMax({onComplete:function(){TweenLite.set(e.newContainer,{clearProps:"all"}),e.done()}}).set(this.newContainer,{visibility:"visible",opacity:0,position:"absolute",top:0,left:0}).to(this.newContainer,.4,{delay:1.1,opacity:1,ease:Power1.easeOut}).fromTo(t,.8,{opacity:0,y:48,skewY:3},{opacity:1,y:0,skewY:0,ease:Power2.easeOut},"+=0.2").staggerFromTo(n,.8,{opacity:0,y:48,skewY:3},{opacity:1,y:0,skewY:0,ease:Power2.easeOut,stagger:.1},"-=1.4").fromTo(i,.8,{opacity:0,y:48,skewY:3},{opacity:1,y:0,skewY:0,ease:Power2.easeOut},"-=0.6")}else e.done()}});Barba.Pjax.getTransition=function(){let i=e;const o=global.currentPage,r=Barba.Utils.getCurrentUrl().split("/").pop().split(".")[0];return"home"==o&&"privacy"!==r?i=t:"index"!==r&&"privacy"!==r&&(i=n),i}}};function r(e){/in/.test(document.readyState)?setTimeout("r("+e+")",9):e()}r(function(){window.A=new App,window.SB=new Scrollbar,A.changePage()});